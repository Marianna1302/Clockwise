"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.printInternalExtraInput = void 0;
const typescript_1 = require("typescript");
function printInternalExtraInput(parsedLogic) {
    return typescript_1.factory.createTypeLiteralNode(Object.entries(parsedLogic.extraInput).map(([type, { typeNode, withLogicFunction }]) => {
        if (withLogicFunction) {
            const logicTypeArguments = [...parsedLogic.typeReferencesInLogicInput]
                .sort()
                .map((text) => typescript_1.factory.createTypeReferenceNode(typescript_1.factory.createIdentifier(text), undefined));
            return typescript_1.factory.createPropertySignature(undefined, typescript_1.factory.createStringLiteral(type), undefined, typescript_1.factory.createUnionTypeNode([
                typeNode,
                typescript_1.factory.createFunctionTypeNode(undefined, [
                    typescript_1.factory.createParameterDeclaration(undefined, undefined, undefined, typescript_1.factory.createIdentifier('logic'), undefined, typescript_1.factory.createTypeReferenceNode(typescript_1.factory.createIdentifier(parsedLogic.logicTypeName), logicTypeArguments.length > 0 ? logicTypeArguments : undefined), undefined),
                ], typeNode),
            ]));
        }
        return typescript_1.factory.createPropertySignature(undefined, typescript_1.factory.createStringLiteral(type), undefined, typeNode);
    }));
}
exports.printInternalExtraInput = printInternalExtraInput;
//# sourceMappingURL=printInternalExtraInput.js.map