"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("../utils");
const typescript_1 = require("typescript");
test('sourceToSourceFile', () => {
    const source = 'var foo = 5;';
    const sourceFile1 = (0, utils_1.sourceToSourceFile)(source);
    const sourceFile2 = (0, utils_1.sourceToSourceFile)(source, 'otherLogic.ts');
    expect(sourceFile1.text).toEqual(source);
    expect(sourceFile2.text).toEqual(source);
    expect(sourceFile1.fileName).toEqual('logic.ts');
    expect(sourceFile2.fileName).toEqual('otherLogic.ts');
    expect(typescript_1.SyntaxKind[sourceFile1.kind]).toEqual('SourceFile');
    expect(typescript_1.SyntaxKind[sourceFile2.kind]).toEqual('SourceFile');
});
test('programFromSource', () => {
    const source = 'var foo = 5;';
    const program = (0, utils_1.programFromSource)(source);
    expect(program).toBeDefined;
    expect(typeof program.getSourceFile).toBe('function');
});
test('logicSourceToLogicType', () => {
    const logicSource = `
        import { kea } from 'kea'
        
        const myRandomLogic = kea({
            actions: () => ({
                updateName: (name: string) => ({ name }),
                updateOtherName: (otherName: string) => ({ otherName }),
            })
        })
    `;
    const string = (0, utils_1.logicSourceToLogicType)(logicSource);
    expect(string).toContain('export interface myRandomLogicType extends Logic {');
});
//# sourceMappingURL=utils.js.map